import{N as i}from"./Net-8b61e4bd.js";import{_ as b,a2 as n,J as o,K as r,L as s,h as u,U as f,X as k,F as w,Q as d,R as c,P as h,N as y}from"./index-3bd7e9d2.js";import{V as _}from"./VContainer-58ab44b5.js";import{V as v}from"./VRow-619704a0.js";import{V as D}from"./VForm-d7d05bc7.js";import{V as F}from"./VCol-89a7f14f.js";import{V}from"./VTextField-de7fe169.js";import{V as U}from"./VSelect-ebc61dd4.js";import{V as x}from"./VSwitch-5b1c9f2f.js";import"./VInput-61c0a7e8.js";import"./index-04e773ce.js";import"./ssrBoot-f3fdc262.js";import"./VSelectionControl-d4234246.js";const S={data(){return{valid:!0,show1:!1,formData:{img:"",password:"",allow_ip:"",cname:"",self_id:null,type:"public",owner:null,secret:"",active:!1,date:"",end_date:"",id:null},fields:[{key:"password",label:"密码",type:"password",rules:[]},{key:"secret",label:"密钥",type:"password",rules:[]},{key:"allow_ip",label:"允许的IP",type:"ip",rules:[]},{key:"type",label:"类型",type:"select",items:["public","private","share"],rules:[]},{key:"owner",label:"所有者",type:"text",rules:[]},{key:"active",label:"激活状态",type:"switch",rules:[]}]}},methods:{updateFormData(l,m){},async submitForm(){var l=await new i("/v1/bot/info/edit").PostFormData(this.formData);l.isSuccess?(n.SetAlert(l.echo),this.$router.go(-1)):n.SetAlert(l.echo)},back(){this.$router.go(-1)},async fillForm(){var l=await new i("/v1/bot/info/get").PostFormData({self_id:this.$route.query.self_id});l.isSuccess&&(this.formData=l.data,this.formData.active=!!l.data.active)}},mounted(){this.fillForm()},props:{jsonData:Object}};function C(l,m,g,N,t,p){return o(),r(_,null,{default:s(()=>[u(D,{modelValue:t.valid,"onUpdate:modelValue":m[1]||(m[1]=e=>t.valid=e),ref:"form",onSubmit:h(p.submitForm,["prevent"])},{default:s(()=>[u(v,null,{default:s(()=>[(o(!0),f(w,null,k(t.fields,e=>(o(),r(F,{key:e.key,cols:"12",md:"6"},{default:s(()=>[e.type==="text"||e.type==="ip"?(o(),r(V,{key:0,"hide-details":"false",label:e.label,type:e.type,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a,rules:e.rules},null,8,["label","type","modelValue","onUpdate:modelValue","rules"])):y("",!0),e.type==="password"?(o(),r(V,{key:1,"append-icon":t.show1?"mdi-eye":"mdi-eye-off","hide-details":"false",label:e.label,type:t.show1?"text":"password",modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a,rules:e.rules,"onClick:append":m[0]||(m[0]=a=>t.show1=!t.show1)},null,8,["append-icon","label","type","modelValue","onUpdate:modelValue","rules"])):e.type==="select"?(o(),r(U,{key:2,label:e.label,items:e.items,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a},null,8,["label","items","modelValue","onUpdate:modelValue"])):e.type==="switch"?(o(),r(x,{key:3,inset:"",label:e.label,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a},null,8,["label","modelValue","onUpdate:modelValue"])):y("",!0)]),_:2},1024))),128))]),_:1}),u(d,{type:"submit",disabled:!t.valid,block:"",color:"primary",class:"mt-4"},{default:s(()=>[c("提交")]),_:1},8,["disabled"]),u(d,{block:"",color:"grey",class:"mt-4",onClick:p.back},{default:s(()=>[c("返回")]),_:1},8,["onClick"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const O=b(S,[["render",C]]);export{O as default};

import{N as i}from"./Net-6d2be279.js";import{_ as b,a4 as n,J as o,K as r,L as s,h as u,Y as f,Z as k,F as w,R as d,S as c,Q as h,N as y}from"./index-7b18db42.js";import{V as _}from"./VContainer-c158e618.js";import{V as v}from"./VRow-201d21fb.js";import{V as D}from"./VForm-81e02aa0.js";import{V as F}from"./VCol-3ea23240.js";import{V}from"./VTextField-ac966e24.js";import{V as x}from"./VSelect-7e08309c.js";import{V as S}from"./VSwitch-5ef162ca.js";import"./VInput-d9476373.js";import"./index-5ee1173a.js";import"./ssrBoot-3d60f2d3.js";import"./VSelectionControl-9aeb4273.js";const U={data(){return{valid:!0,show1:!1,formData:{img:"",password:"",allow_ip:"",cname:"",self_id:null,type:"public",owner:null,secret:"",active:!1,date:"",end_date:"",id:null},fields:[{key:"password",label:"密码",type:"password",rules:[]},{key:"secret",label:"密钥",type:"password",rules:[]},{key:"allow_ip",label:"允许的IP",type:"ip",rules:[]},{key:"type",label:"类型",type:"select",items:["public","private","share"],rules:[]},{key:"owner",label:"所有者",type:"text",rules:[]},{key:"active",label:"激活状态",type:"switch",rules:[]}]}},methods:{updateFormData(l,m){},async submitForm(){var l=await new i("/v1/bot/info/edit").PostFormData(this.formData);l.isSuccess?(n.SetAlert(l.echo),this.$router.go(-1)):n.SetAlert(l.echo)},back(){this.$router.go(-1)},async fillForm(){var l=await new i("/v1/bot/info/get").PostFormData({self_id:this.$route.query.self_id});l.isSuccess&&(this.formData=l.data,this.formData.active=!!l.data.active)}},mounted(){this.fillForm()},props:{jsonData:Object}};function C(l,m,g,N,t,p){return o(),r(_,null,{default:s(()=>[u(D,{modelValue:t.valid,"onUpdate:modelValue":m[1]||(m[1]=e=>t.valid=e),ref:"form",onSubmit:h(p.submitForm,["prevent"])},{default:s(()=>[u(v,null,{default:s(()=>[(o(!0),f(w,null,k(t.fields,e=>(o(),r(F,{key:e.key,cols:"12",md:"6"},{default:s(()=>[e.type==="text"||e.type==="ip"?(o(),r(V,{key:0,"hide-details":"false",label:e.label,type:e.type,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a,rules:e.rules},null,8,["label","type","modelValue","onUpdate:modelValue","rules"])):y("",!0),e.type==="password"?(o(),r(V,{key:1,"append-icon":t.show1?"mdi-eye":"mdi-eye-off","hide-details":"false",label:e.label,type:t.show1?"text":"password",modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a,rules:e.rules,"onClick:append":m[0]||(m[0]=a=>t.show1=!t.show1)},null,8,["append-icon","label","type","modelValue","onUpdate:modelValue","rules"])):e.type==="select"?(o(),r(x,{key:2,label:e.label,items:e.items,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a},null,8,["label","items","modelValue","onUpdate:modelValue"])):e.type==="switch"?(o(),r(S,{key:3,inset:"",label:e.label,modelValue:t.formData[e.key],"onUpdate:modelValue":a=>t.formData[e.key]=a},null,8,["label","modelValue","onUpdate:modelValue"])):y("",!0)]),_:2},1024))),128))]),_:1}),u(d,{type:"submit",disabled:!t.valid,block:"",color:"primary",class:"mt-4"},{default:s(()=>[c("提交")]),_:1},8,["disabled"]),u(d,{block:"",color:"grey",class:"mt-4",onClick:p.back},{default:s(()=>[c("返回")]),_:1},8,["onClick"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const O=b(U,[["render",C]]);export{O as default};

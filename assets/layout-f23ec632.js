import{p as W,a6 as K,c as a,r as Y,aH as $,aB as _,ao as G,at as Q,aI as ee,a5 as te,a9 as R,aJ as oe}from"./index-a7bd54ad.js";const P=Symbol.for("vuetify:layout"),ne=Symbol.for("vuetify:layout-item"),B=1e3,le=W({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function ie(){const i=K(P);if(!i)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:i.getLayoutItem,mainRect:i.mainRect,mainStyles:i.mainStyles}}const ae=(i,d,m,r)=>{let u={top:0,left:0,right:0,bottom:0};const c=[{id:"",layer:{...u}}];for(const v of i){const f=d.get(v),g=m.get(v),L=r.get(v);if(!f||!g||!L)continue;const h={...u,[f.value]:parseInt(u[f.value],10)+(L.value?parseInt(g.value,10):0)};c.push({id:v,layer:h}),u=h}return c};function re(i){const d=K(P,null),m=a(()=>d?d.rootZIndex.value-100:B),r=Y([]),u=$(new Map),c=$(new Map),v=$(new Map),f=$(new Map),g=$(new Map),{resizeRef:L,contentRect:h}=_(),N=a(()=>{const t=new Map,s=i.overlaps??[];for(const e of s.filter(n=>n.includes(":"))){const[n,o]=e.split(":");if(!r.value.includes(n)||!r.value.includes(o))continue;const p=u.get(n),y=u.get(o),w=c.get(n),z=c.get(o);!p||!y||!w||!z||(t.set(o,{position:p.value,amount:parseInt(w.value,10)}),t.set(n,{position:y.value,amount:-parseInt(z.value,10)}))}return t}),x=a(()=>{const t=[...new Set([...v.values()].map(e=>e.value))].sort((e,n)=>e-n),s=[];for(const e of t){const n=r.value.filter(o=>{var p;return((p=v.get(o))==null?void 0:p.value)===e});s.push(...n)}return ae(s,u,c,f)}),A=a(()=>!Array.from(g.values()).some(t=>t.value)),I=a(()=>x.value[x.value.length-1].layer),X=a(()=>({"--v-layout-left":R(I.value.left),"--v-layout-right":R(I.value.right),"--v-layout-top":R(I.value.top),"--v-layout-bottom":R(I.value.bottom),...A.value?void 0:{transition:"none"}})),b=a(()=>x.value.slice(1).map((t,s)=>{let{id:e}=t;const{layer:n}=x.value[s],o=c.get(e),p=u.get(e);return{id:e,...n,size:Number(o.value),position:p.value}})),E=t=>b.value.find(s=>s.id===t),M=G("createLayout"),T=Q(!1);ee(()=>{T.value=!0}),te(P,{register:(t,s)=>{let{id:e,order:n,position:o,layoutSize:p,elementSize:y,active:w,disableTransitions:z,absolute:D}=s;v.set(e,n),u.set(e,o),c.set(e,p),f.set(e,w),z&&g.set(e,z);const V=oe(ne,M==null?void 0:M.vnode).indexOf(t);V>-1?r.value.splice(V,0,e):r.value.push(e);const Z=a(()=>b.value.findIndex(S=>S.id===e)),O=a(()=>m.value+x.value.length*2-Z.value*2),F=a(()=>{const S=o.value==="left"||o.value==="right",C=o.value==="right",U=o.value==="bottom",j={[o.value]:0,zIndex:O.value,transform:`translate${S?"X":"Y"}(${(w.value?0:-110)*(C||U?-1:1)}%)`,position:D.value||m.value!==B?"absolute":"fixed",...A.value?void 0:{transition:"none"}};if(!T.value)return j;const l=b.value[Z.value];if(!l)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const H=N.value.get(e);return H&&(l[H.position]+=H.amount),{...j,height:S?`calc(100% - ${l.top}px - ${l.bottom}px)`:y.value?`${y.value}px`:void 0,left:C?void 0:`${l.left}px`,right:C?`${l.right}px`:void 0,top:o.value!=="bottom"?`${l.top}px`:void 0,bottom:o.value!=="top"?`${l.bottom}px`:void 0,width:S?y.value?`${y.value}px`:void 0:`calc(100% - ${l.left}px - ${l.right}px)`}}),J=a(()=>({zIndex:O.value-1}));return{layoutItemStyles:F,layoutItemScrimStyles:J,zIndex:O}},unregister:t=>{v.delete(t),u.delete(t),c.delete(t),f.delete(t),g.delete(t),r.value=r.value.filter(s=>s!==t)},mainRect:I,mainStyles:X,getLayoutItem:E,items:b,layoutRect:h,rootZIndex:m});const k=a(()=>["v-layout",{"v-layout--full-height":i.fullHeight}]),q=a(()=>({zIndex:d?m.value:void 0,position:d?"relative":void 0,overflow:d?"hidden":void 0}));return{layoutClasses:k,layoutStyles:q,getLayoutItem:E,items:b,layoutRect:h,layoutRef:L}}export{re as c,le as m,ie as u};

import{m as Z,c as ee,a as te,b as ae,u as le,V as oe,N as se,T as ne,d as ue}from"./VTextField-7b40ef7c.js";import{p as P,i as I,g as S,j as q,u as x,c as a,k as re,l as E,n as ie,q as G,s as ce,t as de,v as p,x as me,y as R,z as fe,F as K,m as Q,A as ve,B as he,C as T,D as ye,E as pe,G as ge,H as be,I as Ve,J as ke,K as we,L as Ce,M as _e,N as qe,O as Pe,P as Se,Q as xe,R as Fe,S as Be,T as Ae,_ as Le,o as D,a as N,w as d,U as O,W as De,X as $,Y as Ie,f as _,b as C,Z as j,h as U,$ as Re}from"./index-16147782.js";import{a as Qe,b as Te}from"./ssrBoot-a5e93fcb.js";import{V as L}from"./VCol-16c1c480.js";import{V as Ne}from"./VContainer-271471a9.js";import{m as Oe,c as $e}from"./layout-63849823.js";import{V as je}from"./VMain-1999e17d.js";const Me="/assets/gobotq-843b5f96.png",Ee=P({...I(),...Z()},"VForm"),Ge=S()({name:"VForm",props:Ee(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:i,emit:g}=n;const s=ee(e),u=q();function m(c){c.preventDefault(),s.reset()}function b(c){const l=c,y=s.validate();l.then=y.then.bind(y),l.catch=y.catch.bind(y),l.finally=y.finally.bind(y),g("submit",l),l.defaultPrevented||y.then(V=>{var r;let{valid:F}=V;F&&((r=u.value)==null||r.submit())}),l.preventDefault()}return x(()=>{var c;return a("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:m,onSubmit:b},[(c=i.default)==null?void 0:c.call(i,s)])}),re(s,u)}});const Ke=P({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...E(),...te(),...ie(ae({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Ue=S()({name:"VOtpInput",props:Ke(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:g,slots:s}=n;const{dimensionStyles:u}=G(e),{isFocused:m,focus:b,blur:c}=le(e),l=ce(e,"modelValue","",t=>String(t).split(""),t=>t.join("")),{t:y}=de(),V=p(()=>Number(e.length)),F=p(()=>Array(V.value).fill(0)),r=q(-1),B=q(),k=q([]),A=p(()=>k.value[r.value]);function z(){if(e.type==="number"&&/[^0-9]/g.test(A.value.value)){A.value.value="";return}const t=l.value.slice(),o=A.value.value;t[r.value]=o;let f=null;r.value>l.value.length?f=l.value.length+1:r.value+1!==V.value&&(f="next"),l.value=t,f&&T(B.value,f)}function Y(t){const o=l.value.slice(),f=r.value;let v=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(t.key)&&(t.preventDefault(),t.key==="ArrowLeft"?v="prev":t.key==="ArrowRight"?v="next":["Backspace","Delete"].includes(t.key)&&(o[r.value]="",l.value=o,r.value>0&&t.key==="Backspace"?v="prev":requestAnimationFrame(()=>{var h;(h=k.value[f])==null||h.select()})),requestAnimationFrame(()=>{v!=null&&T(B.value,v)}))}function H(t,o){var f,v;o.preventDefault(),o.stopPropagation(),l.value=(((f=o==null?void 0:o.clipboardData)==null?void 0:f.getData("Text"))??"").split(""),(v=k.value)==null||v[t].blur()}function J(){l.value=[]}function W(t,o){b(),r.value=o}function X(){c(),r.value=-1}return me({VField:{color:p(()=>e.color),bgColor:p(()=>e.color),baseColor:p(()=>e.baseColor),disabled:p(()=>e.disabled),error:p(()=>e.error),variant:p(()=>e.variant)}},{scoped:!0}),R(l,t=>{t.length===V.value&&g("finish",t.join(""))},{deep:!0}),R(r,t=>{t<0||ye(()=>{var o;(o=k.value[t])==null||o.select()})}),x(()=>{var f;const[t,o]=fe(i);return a("div",Q({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},t),[a("div",{ref:B,class:"v-otp-input__content",style:[u.value]},[F.value.map((v,h)=>a(K,null,[e.divider&&h!==0&&a("span",{class:"v-otp-input__divider"},[e.divider]),a(oe,{focused:m.value&&e.focusAll||r.value===h,key:h},{...s,default:()=>a("input",{ref:w=>k.value[h]=w,"aria-label":y(e.label,h+1),autofocus:h===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:l.value[h],onInput:z,onFocus:w=>W(w,h),onBlur:X,onKeydown:Y,onPaste:w=>H(h,w)},null)})])),a("input",Q({class:"v-otp-input-input",type:"hidden"},o,{value:l.value.join("")}),null),a(ve,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var v;return[((v=s.loader)==null?void 0:v.call(s))??a(he,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(f=s.default)==null?void 0:f.call(s)])])}),{blur:()=>{var t;(t=k.value)==null||t.some(o=>o.blur())},focus:()=>{var t;(t=k.value)==null||t[0].focus()},reset:J,isFocused:m}}});const ze=P({color:String,...pe(),...I(),...E(),...ge(),...be(),...Ve(),...ke(),...we(),...Ce()},"VSheet"),M=S()({name:"VSheet",props:ze(),setup(e,n){let{slots:i}=n;const{themeClasses:g}=_e(e),{backgroundColorClasses:s,backgroundColorStyles:u}=qe(Pe(e,"color")),{borderClasses:m}=Se(e),{dimensionStyles:b}=G(e),{elevationClasses:c}=xe(e),{locationStyles:l}=Fe(e),{positionClasses:y}=Be(e),{roundedClasses:V}=Ae(e);return x(()=>a(e.tag,{class:["v-sheet",g.value,s.value,m.value,c.value,y.value,V.value,e.class],style:[u.value,b.value,l.value,e.style]},i)),{}}}),Ye={created(){this.qq=localStorage.getItem("qq")},data:()=>({show1:!0,show2:!1,qq:"",password:"",rules:[e=>e?!0:"这里填写的应该是你的QQ号码，而不是你机器人的QQ号码"]}),methods:{gotonext(){this.qq.length>5&&(this.show1=!1,this.show2=!0,localStorage.setItem("qq",this.qq))},clearout(){this.show2=!1,this.show1=!0,this.qq="",localStorage.removeItem("qq")},async login(){var e=await new se("/v1/index/login/login").PostFormData({qq:this.qq,password:this.password});e.isSuccess&&(ne.Api_set_uidAndToken(e.data.uid,e.data.token),this.$router.push("/center"))}}},He=U("h3",{class:"text-h6 mb-4"},"填写你QQ的登录码",-1),Je={class:"text-body-2"};function We(e,n,i,g,s,u){return D(),N(Ne,{class:"align-self-center"},{default:d(()=>[e.show1?(D(),N(O,{key:0,class:"mx-auto","max-width":"200",height:"200",image:Me,title:"GobotQ",theme:"dark"})):De("",!0),$(a(M,{width:"100%",class:"mx-auto mt-6"},{default:d(()=>[a(Ge,{onSubmit:n[1]||(n[1]=Ie(()=>{},["prevent"]))},{default:d(()=>[a(ue,{autofocus:"true",modelValue:e.qq,"onUpdate:modelValue":n[0]||(n[0]=m=>e.qq=m),rules:e.rules,label:"这里输入你的QQ号码"},null,8,["modelValue","rules"]),a(_,{type:"submit",block:"",class:"mt-0",color:"blue",onClick:u.gotonext},{default:d(()=>[C("下一步")]),_:1},8,["onClick"]),a(_,{type:"submit",block:"",class:"mt-4",color:"grey",onClick:u.clearout},{default:d(()=>[C("清空数据")]),_:1},8,["onClick"])]),_:1})]),_:1},512),[[j,e.show1]]),a(Qe,null,{default:d(()=>[$(a(O,{class:"py-8 px-6 text-center mx-auto ma-4",elevation:"12","max-width":"100%",width:"100%"},{default:d(()=>[He,U("div",Je,[a(L,null,{default:d(()=>[C("不是你的QQ密码！！！")]),_:1}),a(L,null,{default:d(()=>[C("登录码请通过已在线的Acfur机器人获取")]),_:1}),a(L,null,{default:d(()=>[C("向机器人发送“acfur登录”，并等待机器人回复验证码给你")]),_:1})]),a(M,{color:"surface"},{default:d(()=>[a(Ue,{autofocus:"true",modelValue:e.password,"onUpdate:modelValue":n[2]||(n[2]=m=>e.password=m),type:"text",length:"8",variant:"solo-filled","max-width":"400"},null,8,["modelValue"])]),_:1}),a(_,{onClick:u.login,class:"my-4",color:"blue",height:"40",text:"验证并登录",variant:"flat",width:"70%"},null,8,["onClick"]),a(_,{onClick:u.clearout,class:"my-4",color:"grey",height:"40",text:"返回",variant:"flat",width:"70%"},null,8,["onClick"])]),_:1},512),[[j,e.show2]])]),_:1})]),_:1})}const Xe=Le(Ye,[["render",We]]);const Ze=P({...I(),...Oe()},"VLayout"),et=S()({name:"VLayout",props:Ze(),setup(e,n){let{slots:i}=n;const{layoutClasses:g,layoutStyles:s,getLayoutItem:u,items:m,layoutRef:b}=$e(e);return x(()=>{var c;return a("div",{ref:b,class:[g.value,e.class],style:[s.value,e.style]},[(c=i.default)==null?void 0:c.call(i)])}),{getLayoutItem:u,items:m}}}),rt={__name:"Login",setup(e){return(n,i)=>(D(),Re(K,null,[a(Te,{title:"GoBotQ控制面板"}),a(et,{class:"rounded rounded-md"},{default:d(()=>[a(je,{class:"d-flex align-center justify-center"},{default:d(()=>[a(Xe)]),_:1})]),_:1})],64))}};export{rt as default};

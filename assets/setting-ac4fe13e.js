import{N as c}from"./Net-c4a5ddcb.js";import{_ as b,a3 as i,J as r,K as u,L as t,h as s,Y as p,Z as f,F as V,R as y,S as m,Q as v,a2 as _,N as h}from"./index-611e515b.js";import{V as x}from"./VContainer-fbbf3ea9.js";import{V as g}from"./VRow-0a859818.js";import{V as D}from"./VForm-77671387.js";import{V as k}from"./VCol-1f522b73.js";import{V as F}from"./VTextField-69c9b00c.js";import{V as S,a as C}from"./VToolbar-9ebeb7f1.js";import{a as w,V as N}from"./VChip-84ac618b.js";import"./VInput-8ffcd0ee.js";import"./index-5402ece9.js";const T={data(){return{valid:!0,formData:{self_id:null,add_friend:null,add_group:null,change_date:null,date:null,id:null},fields:[{key:"add_friend",label:"是否允许添加好友",type:"radio",options:[{value:-1,text:"禁止所有人添加"},{value:0,text:"根据白名单列表"},{value:1,text:"允许所有人添加"}]},{key:"add_group",label:"是否允许被拉到群中",type:"radio",options:[{value:-1,text:"禁止所有人添加"},{value:0,text:"根据白名单列表"},{value:1,text:"允许所有人添加"}]}]}},methods:{async submitForm(){var a=await new c("/v1/bot/setting/edit").PostFormData(this.formData);a.isSuccess?(i.SetAlert(a.echo),this.$router.go(-1)):i.SetAlert(a.echo)},back(){this.$router.go(-1)},async fillForm(){var a=await new c("/v1/bot/setting/get").PostFormData(this.$route.query);a.isSuccess?this.formData=a.data:i.SetAlert(a.echo)}},mounted(){this.fillForm()}};function U(a,d,A,B,l,n){return r(),u(x,null,{default:t(()=>[s(D,{modelValue:l.valid,"onUpdate:modelValue":d[0]||(d[0]=e=>l.valid=e),ref:"form",onSubmit:v(n.submitForm,["prevent"])},{default:t(()=>[s(g,null,{default:t(()=>[(r(!0),p(V,null,f(l.fields,e=>(r(),u(k,{key:e.key,cols:"12"},{default:t(()=>[e.type==="text"||e.type==="date"?(r(),u(F,{key:0,"hide-details":"auto",label:e.label,modelValue:l.formData[e.key],"onUpdate:modelValue":o=>l.formData[e.key]=o,readonly:""},null,8,["label","modelValue","onUpdate:modelValue"])):e.type==="radio"?(r(),u(k,{key:e.key,cols:"12",elevation:"10"},{default:t(()=>[s(S,{flat:"",color:"deep-purple-accent-4",dark:""},{default:t(()=>[s(C,null,{default:t(()=>[m(_(e.label),1)]),_:2},1024)]),_:2},1024),s(w,{modelValue:l.formData[e.key],"onUpdate:modelValue":o=>l.formData[e.key]=o,filter:""},{default:t(()=>[(r(!0),p(V,null,f(e.options,o=>(r(),u(N,{key:o.value,value:o.value,class:"ma-2"},{default:t(()=>[m(_(o.text),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):h("",!0)]),_:2},1024))),128))]),_:1}),s(y,{type:"submit",disabled:!l.valid,block:"",color:"primary",class:"mt-4"},{default:t(()=>[m("提交")]),_:1},8,["disabled"]),s(y,{block:"",color:"grey",class:"mt-4",onClick:n.back},{default:t(()=>[m("返回")]),_:1},8,["onClick"])]),_:1},8,["modelValue","onSubmit"])]),_:1})}const Z=b(T,[["render",U]]);export{Z as default};

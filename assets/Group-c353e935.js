import{T as $}from"./topheader-3cc59f51.js";import{N as y,T as w}from"./Net-f644d925.js";import{_ as p,J as d,K as s,L as n,T as i,a2 as l,h as m,R as h,a0 as g,S as c,a4 as D,W as f,N as b}from"./index-7351347d.js";import{V as T}from"./VDataTable-abcac664.js";import{V as L}from"./VApp-833ebb52.js";import{V as k,a as S}from"./VTabs-47f224f5.js";import"./gobotq-1cdfb48b.js";import"./index-681509e8.js";import"./VSelect-1b2f806e.js";import"./VTextField-e95af6c7.js";import"./VInput-48ca37b3.js";import"./ssrBoot-31553a5f.js";import"./VSelectionControl-6660ee56.js";const A={mounted(){this.getGroupList()},data(){return{headers:[{title:"机器人ID",value:"self_id"},{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"},{title:"操作",value:"modify",sortable:!1}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/bot").Get({});if(t.isSuccess){const a=t.data;a.forEach(function(r){switch(r.role){case"admin":r.role="管理员";break;case"owner":r.role="群主";break;case"member":r.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function N(t,a,r,v,u,o){return d(),s(T,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:n(e=>[i("tr",null,[i("td",null,l(e.item.self_id),1),i("td",null,l(e.item.user_id),1),i("td",null,l(e.item.nickname),1),i("td",null,l(e.item.card),1),i("td",null,l(e.item.role),1),i("td",null,l(o.formatTimestamp(e.item.join_time)),1),i("td",null,l(o.formatTimestamp(e.item.last_sent_time)),1),i("td",null,l(e.item.level),1),i("td",null,l(e.item.id),1),i("td",null,l(e.item.group_id),1),i("td",null,l(e.item.title),1)])]),"item.modify":n(({item:e})=>[m(h,{onClick:_=>o.modify(e),icon:""},{default:n(()=>[m(g,null,{default:n(()=>[c("mdi-exit-run")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const B=p(A,[["render",N]]),M={mounted(){this.getGroupList()},data(){return{headers:[{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"},{title:"操作",value:"modify",sortable:!1}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/list").PostFormData({user_id:w.Api_find_uid(),role:JSON.stringify(["admin","owner"])});if(t.isSuccess){const a=t.data;a.forEach(function(r){switch(r.role){case"admin":r.role="管理员";break;case"owner":r.role="群主";break;case"member":r.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function J(t,a,r,v,u,o){return d(),s(T,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:n(e=>[i("tr",null,[i("td",null,l(e.item.self_id),1),i("td",null,l(e.item.user_id),1),i("td",null,l(e.item.nickname),1),i("td",null,l(e.item.card),1),i("td",null,l(e.item.role),1),i("td",null,l(o.formatTimestamp(e.item.join_time)),1),i("td",null,l(o.formatTimestamp(e.item.last_sent_time)),1),i("td",null,l(e.item.level),1),i("td",null,l(e.item.id),1),i("td",null,l(e.item.group_id),1),i("td",null,l(e.item.title),1)])]),"item.modify":n(({item:e})=>[m(h,{onClick:_=>o.modify(e),icon:""},{default:n(()=>[m(g,null,{default:n(()=>[c("mdi-pencil")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const I=p(M,[["render",J]]),x={mounted(){this.getGroupList()},data(){return{headers:[{title:"群ID",value:"group_id"},{title:"群名称",value:"group_info.group_name"},{title:"群名片",value:"card"},{title:"角色",value:"role"}],items:[]}},methods:{formatTimestamp(t){return new Date(t*1e3).toLocaleString()},async getGroupList(){var t=await new y("/v1/group/member/list").PostFormData({user_id:w.Api_find_uid(),role:JSON.stringify(["member"])});if(t.isSuccess){const a=t.data;a.forEach(function(r){switch(r.role){case"admin":r.role="管理员";break;case"owner":r.role="群主";break;case"member":r.role="群成员";break}}),this.items=a}},modify(t){this.$router.push({path:"/v1/group/edit",query:{group_id:t.group_id,self_id:t.self_id}})},reset(t){console.log(t)}}};function j(t,a,r,v,u,o){return d(),s(T,{headers:u.headers,items:u.items,"items-per-page":15,class:"elevation-1"},{items:n(e=>[i("tr",null,[i("td",null,l(e.item.self_id),1),i("td",null,l(e.item.user_id),1),i("td",null,l(e.item.nickname),1),i("td",null,l(e.item.card),1),i("td",null,l(e.item.role),1),i("td",null,l(o.formatTimestamp(e.item.join_time)),1),i("td",null,l(o.formatTimestamp(e.item.last_sent_time)),1),i("td",null,l(e.item.level),1),i("td",null,l(e.item.id),1),i("td",null,l(e.item.group_id),1),i("td",null,l(e.item.title),1)])]),"item.modify":n(({item:e})=>[m(h,{onClick:_=>o.modify(e),icon:""},{default:n(()=>[m(g,null,{default:n(()=>[c("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),m(h,{onClick:_=>o.reset(e),icon:""},{default:n(()=>[m(g,null,{default:n(()=>[c("mdi-refresh")]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["headers","items"])}const q=p(x,[["render",j]]),E=D({components:{MyJoinGroup:q,MyAdminGroup:I,BotAdminGroup:B,Topheader:$},computed:{},mounted(){},data:()=>({tab:""}),methods:{changetab(){}}});function F(t,a,r,v,u,o){const e=f("Topheader"),_=f("MyAdminGroup"),G=f("MyJoinGroup"),V=f("BotAdminGroup");return d(),s(L,null,{default:n(()=>[m(e),m(S,{modelValue:t.tab,"onUpdate:modelValue":a[0]||(a[0]=C=>t.tab=C),onClick:t.changetab,"fixed-tabs":"","bg-color":"indigo-darken-2"},{default:n(()=>[m(k,null,{default:n(()=>[c("我管理的群")]),_:1}),m(k,null,{default:n(()=>[c("我加入的群")]),_:1}),m(k,null,{default:n(()=>[c("机器人加入的群")]),_:1})]),_:1},8,["modelValue","onClick"]),t.tab===0?(d(),s(_,{key:0})):b("",!0),t.tab===1?(d(),s(G,{key:1})):b("",!0),t.tab===2?(d(),s(V,{key:2})):b("",!0)]),_:1})}const te=p(E,[["render",F]]);export{te as default};
